"use strict";function Editor(e,t){this.editable=e;this.pad=t;this.insert=function(e,t){DEBUG&&DEBUG("Editor.insert( "+e+', "'+t+'" )');var r=this.pad.convertCaretPosToLineIndex(e);var a=this.pad.convertCaretPosToOffset(e);this.editable.insertAt(r,a,t)};this.remove=function(e,t){DEBUG&&DEBUG("Editor.remove( "+e+", "+t+" )");var r=this.pad.convertCaretPosToLineIndex(e);var a=this.pad.convertCaretPosToOffset(e);this.editable.remove(r,a,t)};this.clear=function(){DEBUG&&DEBUG("Editor.clear()");this.editable.clear();this.editable.placeCaretAtStart()};this.getLength=function(){DEBUG&&DEBUG("Editor.getLength()");var e=this.editable.getTextLength();DEBUG&&DEBUG("Editor.getLength: "+e);return e};this.getText=function(e,t){DEBUG&&DEBUG("Editor.getText( "+e+", "+t+" )");var r=this.pad.convertCaretPosToLineIndex(e);var a=this.pad.convertCaretPosToOffset(e);var n=this.editable.getText(r,a,t);DEBUG&&DEBUG('Editor.getText: "'+n+'"');return n};function i(e){switch(e){case Module.SFRCalcTextStyleEnum.STYLE_Text:return"text";case Module.SFRCalcTextStyleEnum.STYLE_Comment:return"comment";case Module.SFRCalcTextStyleEnum.STYLE_NegativeNumber:return"number negative";case Module.SFRCalcTextStyleEnum.STYLE_BoldNumber:return"boldnumber positive";case Module.SFRCalcTextStyleEnum.STYLE_BoldNegativeNumber:return"boldnumber negative";case Module.SFRCalcTextStyleEnum.STYLE_Variable:return"var";case Module.SFRCalcTextStyleEnum.STYLE_Function:return"func";case Module.SFRCalcTextStyleEnum.STYLE_Divider:return"div";case Module.SFRCalcTextStyleEnum.STYLE_PercentHint:return"hint";case Module.SFRCalcTextStyleEnum.STYLE_PartialStyleOffset:return"offset";case Module.SFRCalcParagraphStyleEnum.PSTYLE_Number:return"pnumber";case Module.SFRCalcParagraphStyleEnum.PSTYLE_LongNumber:return"plong";case Module.SFRCalcParagraphStyleEnum.PSTYLE_Divider:return"pdiv";case Module.SFRCalcParagraphStyleEnum.PSTYLE_Text:return"ptext";default:return false}}this.updateLineStyle=function(e,t,r){DEBUG&&DEBUG("Editor.updateLineStyle( "+e+", "+t+", "+r+" )");var a=this.pad.convertCaretPosToLineIndex(e);var n=this.pad.convertCaretPosToOffset(e);this.editable.setClass(a,n,t,i(r))};this.updateParagraphStyle=function(e,t,r){DEBUG&&DEBUG("Editor.updateParagraphStyle( "+e+", "+t+", "+r+" )");var a=this.pad.convertCaretPosToLineIndex(e);var n=this.pad.convertCaretPosToOffset(e);this.editable.setDivClass(a,i(r))};this.moveCaretToPosition=function(e){DEBUG&&DEBUG("Editor.moveCaretToPosition( "+e+" )");var t=this.pad.convertCaretPosToLineIndex(e);var r=this.pad.convertCaretPosToOffset(e);this.editable.placeCaret(t,r)}}