"use strict";function Keyboard(t,e,i){this.domElement=t;var r=this;this.width=h||1;this.height=s||1;this.keys=[];var h=e.getColumnCount("default");var s=e.getRowCount("default");for(var a=0;a<h;a++){for(var o=0;o<s;o++){var n=e.getKey("default",a,o);var l=n.getSize();var u=1;var d=1;switch(n.getSize()){case Module.SFRCalcButtonSizeType.BS_DOUBLE_HEIGHT:u=1;d=2;break;case Module.SFRCalcButtonSizeType.BS_DOUBLE_WIDTH_HEIGHT:u=2;d=2;break;case Module.SFRCalcButtonSizeType.BS_DOUBLE_WIDTH:u=2;d=1;break}var y=i.getCaption(n.getButtonId());var c=i.getClass(n.getButtonId());if(y.length>0){k(n.getButtonId(),y,a,o,u,d,c)}}}function k(t,e,i,h,s,a,o){var n=new Key(r,t,e,i,h,s,a,o);r.keys.push(n);m();return n}function m(){for(var t in r.keys){r.keys[t].updateLayout()}r.domElement.style.maxHeight=""+14/r.width*r.height+"rem"}m();this.updateValues()}Keyboard.prototype={updateValues:function(){for(var t in this.keys){this.keys[t].updateValue()}}};function Key(t,e,i,h,s,a,o,n){this.row=s;this.col=h;this.w=a;this.h=o;this.keyboard=t;if(this.keyboard.width<this.col+this.w){this.keyboard.width=this.col+this.w}if(this.keyboard.height<this.row+this.h){this.keyboard.height=this.row+this.h}if(i=="Backspace"){i="âŒ«"}this.element=this.keyboard.domElement.appendChild(document.createElement("button"));this.element.innerText=i;this.element.setAttribute("onclick","calctape.insertFromButton(this)");this.element.setAttribute("data-value",e);this.element.setAttribute("class",n);this.updateValue=function(){}}Key.prototype={updateLayout:function(){this.element.style.width=100/this.keyboard.width*this.w+"%";this.element.style.height=100/this.keyboard.height*this.h+"%";this.element.style.left=100/this.keyboard.width*this.col+"%";this.element.style.top=100/this.keyboard.height*this.row+"%"}};